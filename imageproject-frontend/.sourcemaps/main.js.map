{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/login/login.ts","../../src/providers/chat-service.ts","../../src/providers/emoji.ts","../../src/pages/tabs/tabs.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../ws (ignored)","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 122;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 122\n// module chunks = 5","var map = {\n\t\"../pages/about/about.module\": [\n\t\t328,\n\t\t3\n\t],\n\t\"../pages/chat/chat.module\": [\n\t\t329,\n\t\t0\n\t],\n\t\"../pages/contact/contact.module\": [\n\t\t330,\n\t\t2\n\t],\n\t\"../pages/home/home.module\": [\n\t\t331,\n\t\t1\n\t],\n\t\"../pages/tabs/tabs.module\": [\n\t\t332,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 164;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 164\n// module chunks = 5","import {Component} from '@angular/core';\nimport {NavController, AlertController, LoadingController, Loading, ToastController} from 'ionic-angular';\nimport {tap} from \"rxjs/operators\";\nimport {TabsPage} from \"../tabs/tabs\";\nimport {Socket} from \"ng-socket-io\";\nimport {Storage} from \"@ionic/storage\";\n\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n  loading: Loading;\n  registerCredentials = {email: '', password: ''};\n\n  constructor(private storage: Storage,private socket: Socket, private toastCtrl: ToastController, private nav: NavController,  private alertCtrl: AlertController, private loadingCtrl: LoadingController) {\n    this.storage.get('login')\n      .then(result => {\n        if (result) {\n          this.registerCredentials = result\n        }\n      })\n  }\n\n\n  public async login() {\n\n    // let token = await this.fcm.getToken()\n    this.showLoading()\n    // this.registerCredentials['firebase_token'] = token\n    // this.auth.login(this.registerCredentials).subscribe(allowed => {\n    //     console.log(allowed)\n    //     if (allowed) {\n    //       this.fcm.listenToNotifications().pipe(\n    //         tap(msg => {\n    //           show a toast\n              // const toast = this.toastCtrl.create({\n              //   message: msg.body,\n              //   duration: 3000\n              // });\n              // toast.present();\n            // })\n          // )\n          //   .subscribe()\n    this.socket.emit('login', this.registerCredentials)\n    this.socket.on('successLogin', data => {\n      this.storage.set('login', this.registerCredentials)\n      this.storage.set('api', data.state)\n      this.storage.set('user', data.user)\n      this.nav.setRoot(TabsPage);\n    })\n      // .then(result => {\n      //   console.log(result)\n      // })\n      // .catch(err => {\n      //   console.log(err)\n      // })\n          // this.nav.setRoot(TabsPage);\n        // } else {\n        //   this.showError(\"Access Denied\");\n        // }\n      // },\n      // error => {\n      //   this.showError(error);\n      // });\n  }\n\n  showLoading() {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...',\n      dismissOnPageChange: true\n    });\n    this.loading.present();\n  }\n\n  showError(text) {\n    this.loading.dismiss();\n\n    let alert = this.alertCtrl.create({\n      title: 'Fail',\n      subTitle: text,\n      buttons: ['OK']\n    });\n    // alert.present('prompt');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Injectable } from '@angular/core';\nimport { Events } from 'ionic-angular';\nimport { map } from 'rxjs/operators/map';\nimport { HttpClient } from \"@angular/common/http\";\nimport { Observable } from \"rxjs/Observable\";\nimport {Socket} from \"ng-socket-io\";\nimport {Storage} from \"@ionic/storage\";\n\nexport class ChatMessage {\n  messageId: string;\n  userId: string;\n  userName: string;\n  userAvatar: string;\n  toUserId: string;\n  time: number | string;\n  message: string;\n  status: string;\n}\n\nexport class UserInfo {\n  id: string;\n  name?: string;\n  avatar?: string;\n  thumbSrc?: string;\n}\n\n@Injectable()\nexport class ChatService {\n\n  constructor(private http: HttpClient,\n              private events: Events, private socket: Socket, private storage: Storage) {\n    this.socket.on('newMessage', data => {\n      console.log('oifoi')\n      this.events.publish('chat:received', data, Date.now())\n    })\n  }\n\n  mockNewMsg(msg) {\n    const mockMsg: ChatMessage = {\n      messageId: Date.now().toString(),\n      userId: '210000198410281948',\n      userName: 'Hancock',\n      userAvatar: './assets/to-user.jpg',\n      toUserId: '140000198202211138',\n      time: Date.now(),\n      message: msg.message,\n      status: 'success'\n    };\n\n    setTimeout(() => {\n      this.events.publish('chat:received', mockMsg, Date.now())\n    }, Math.random() * 1800)\n  }\n\n  getMsgList(toUserId) {\n    return this.storage.get('chats')\n      .then(result => {\n        let index = result.findIndex(item => item.toUserId == toUserId)\n        return result[index] && result[index].messages ? result[index].messages : []\n      })\n    // const msgListUrl = './assets/mock/msg-list.json';\n    // return this.http.get<any>(msgListUrl)\n    // .pipe(map(response => response.array));\n  }\n\n  async sendMsg(msg: ChatMessage, is_safe) {\n    let api = await this.storage.get('api')\n    this.socket.emit('sendMessage', {api: api,message:msg, is_safe: is_safe})\n    return this.storage.get('chats')\n      .then(result => {\n        let index = result.findIndex(item => item.toUserId == msg.toUserId)\n        if (result[index] && result[index].messages) {\n          result[index].messages.push(msg)\n        } else {\n          result[index].messages = [msg]\n        }\n        this.storage.set('chats', result)\n      })\n  }\n\n  getUserInfo(): Promise<UserInfo> {\n    const userInfo: UserInfo = {\n      id: '140000198202211138',\n      name: 'Luff',\n      avatar: './assets/user.jpg'\n    };\n    return new Promise(resolve => resolve(userInfo));\n  }\n\n  addMessageToList(msg) {\n    return this.storage.get('chats')\n      .then(result => {\n        if (!result) result = []\n        let index = result.findIndex(item => item.toUserId == msg.toUserId || item.toUserId == msg.userId)\n        if (result[index] && result[index].messages) {\n          result[index].messages.push(msg)\n        } else if (result[index]) {\n          result[index].messages = [msg]\n        } else {\n          result.push({\n            toUserId: msg.userId,\n            toUserName: msg.userName,\n            photo: msg.userAvatar,\n            message: msg.message,\n            messages: [{\n              time: Date.now(),\n              userId: msg.userId,\n              userName: msg.userName,\n              toUserId: msg.toUserId,\n              userAvatar: msg.userAvatar,\n              message: msg.message\n            }]\n          })\n        }\n        this.storage.set('chats', result)\n        return result\n      })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/chat-service.ts","export class EmojiProvider {\n\n  getEmojis() {\n    const EMOJIS = \"😀 😃 😄 😁 😆 😅 😂 🤣 ☺️ 😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😜 😝 😛 🤑 🤗 🤓 😎 🤡 🤠 😏 😒 😞 😔 😟 😕 🙁\" +\n      \" ☹️ 😣 😖 😫 😩 😤 😠 😡 😶 😐 😑 😯 😦 😧 😮 😲 😵 😳 😱 😨 😰 😢 😥 🤤 😭 😓 😪 😴 🙄 🤔 🤥 😬 🤐 🤢 🤧 😷 🤒 🤕 😈 👿\" +\n      \" 👹 👺 💩 👻 💀 ☠️ 👽 👾 🤖 🎃 😺 😸 😹 😻 😼 😽 🙀 😿 😾 👐 🙌 👏 🙏 🤝 👍 👎 👊 ✊ 🤛 🤜 🤞 ✌️ 🤘 👌 👈 👉 👆 👇 ☝️ ✋ 🤚\" +\n      \" 🖐 🖖 👋 🤙 💪 🖕 ✍️ 🤳 💅 🖖 💄 💋 👄 👅 👂 👃 👣 👁 👀 🗣 👤 👥 👶 👦 👧 👨 👩 👱‍♀️ 👱 👴 👵 👲 👳‍♀️ 👳 👮‍♀️ 👮 👷‍♀️ 👷\" +\n      \" 💂‍♀️ 💂 🕵️‍♀️ 🕵️ 👩‍⚕️ 👨‍⚕️ 👩‍🌾 👨‍🌾 👩‍🍳 👨‍🍳 👩‍🎓 👨‍🎓 👩‍🎤 👨‍🎤 👩‍🏫 👨‍🏫 👩‍🏭 👨‍🏭 👩‍💻 👨‍💻 👩‍💼 👨‍💼 👩‍🔧 👨‍🔧 👩‍🔬 👨‍🔬\" +\n      \" 👩‍🎨 👨‍🎨 👩‍🚒 👨‍🚒 👩‍✈️ 👨‍✈️ 👩‍🚀 👨‍🚀 👩‍⚖️ 👨‍⚖️ 🤶 🎅 👸 🤴 👰 🤵 👼 🤰 🙇‍♀️ 🙇 💁 💁‍♂️ 🙅 🙅‍♂️ 🙆 🙆‍♂️ 🙋 🙋‍♂️ 🤦‍♀️ 🤦‍♂️ 🤷‍♀\" +\n      \"️ 🤷‍♂️ 🙎 🙎‍♂️ 🙍 🙍‍♂️ 💇 💇‍♂️ 💆 💆‍♂️ 🕴 💃 🕺 👯 👯‍♂️ 🚶‍♀️ 🚶 🏃‍♀️ 🏃 👫 👭 👬 💑 👩‍❤️‍👩 👨‍❤️‍👨 💏 👩‍❤️‍💋‍👩 👨‍❤️‍💋‍👨 👪 👨‍👩‍👧\" +\n      \" 👨‍👩‍👧‍👦 👨‍👩‍👦‍👦 👨‍👩‍👧‍👧 👩‍👩‍👦 👩‍👩‍👧 👩‍👩‍👧‍👦 👩‍👩‍👦‍👦 👩‍👩‍👧‍👧 👨‍👨‍👦 👨‍👨‍👧 👨‍👨‍👧‍👦 👨‍👨‍👦‍👦 👨‍👨‍👧‍👧 👩‍👦 👩‍👧\" +\n      \" 👩‍👧‍👦 👩‍👦‍👦 👩‍👧‍👧 👨‍👦 👨‍👧 👨‍👧‍👦 👨‍👦‍👦 👨‍👧‍👧 👚 👕 👖 👔 👗 👙 👘 👠 👡 👢 👞 👟 👒 🎩 🎓 👑 ⛑ 🎒 👝 👛 👜 💼 👓\" +\n      \" 🕶 🌂 ☂️\";\n\n    const EmojiArr = EMOJIS.split(' ');\n    const groupNum = Math.ceil(EmojiArr.length / (24));\n    const items = [];\n\n    for (let i = 0; i < groupNum; i++) {\n      items.push(EmojiArr.slice(i * 24, (i + 1) * 24));\n    }\n\n    return items\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/emoji.ts","import { Component } from '@angular/core';\n\nimport {IonicPage} from \"ionic-angular\";\n\n@IonicPage()\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n  // this tells the tabs component which Pages\n  // should be each tab's root Page\n  tab1Root: any = 'HomePage';\n  tab2Root: any = 'AboutPage';\n  // tab3Root: any = 'ContactPage';\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { MyApp } from './app.component';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { EmojiProvider } from '../providers/emoji';\nimport { HttpClientModule } from \"@angular/common/http\";\nimport {SocketIoConfig, SocketIoModule} from \"ng-socket-io\";\nimport {LoginPage} from \"../pages/login/login\";\nimport {IonicStorageModule} from \"@ionic/storage\";\nimport {ChatService} from \"../providers/chat-service\";\n\nconst config: SocketIoConfig = { url: 'http://localhost:3001', options: {} };\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    LoginPage\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    SocketIoModule.forRoot(config),\n    IonicStorageModule.forRoot(),\n    IonicModule.forRoot(MyApp,{\n      tabsHideOnSubPages:true,\n      tabsLayout:'icon-left',\n      preloadModules: true\n    }),\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    LoginPage\n  ],\n  providers: [\n    StatusBar,\n    ChatService,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    EmojiProvider\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 296\n// module chunks = 5","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport {LoginPage} from \"../pages/login/login\";\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = LoginPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}